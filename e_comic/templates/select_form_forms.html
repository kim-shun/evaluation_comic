{% extends "cms/base.html" %}
{% load i18n static %}

{% block title %}遷移成功{% endblock title %}


{% block content %}
    <link rel="stylesheet" href="{% static 'cms/css/test.css' %}">
    DjangoFormsを使ったテーブルプルダウン例です。<br/>
    <div class="row">
        <!-- 左スペース -->
        <div class="col-md-9 px-0">
        <form id="slctform" action="{% url 'cms:book_form' %}" method="POST">
            <table class="table table-bordered">
            {% for label in label_list %}
                {% if label.child_label|length != 0%}
                    {% for childabel in label.child_label %}
                    <tr>
                    {% if forloop.first%}
                        <th rowspan="{{label.child_label|length}}" valign="middle">{{ label.label_name }}</th>
                    {% endif %}
                        <th>{{ childabel.label_name }}</th>
                        <td>{{ childabel.select_forms.point }}</td>
                        <td>{{ childabel.select_forms.select1 }}</td>
                        <td>{{ childabel.select_forms.select2 }}</td>
                        <td>{{ childabel.select_forms.select3 }}</td>
                    </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <th colspan="2">{{ label.label_name }}</th>
                        <td>{{ label.select_forms.point}}</td>
                        <td>{{ label.select_forms.select1 }}</td>
                        <td>{{ label.select_forms.select2 }}</td>
                        <td>{{ label.select_forms.select3 }}</td>
                    </tr>
                {% endif %}
            {% endfor %}
            </table>
            {% csrf_token %}
        </form>
        </div>
        <!-- 右スペース -->
        <div class="col-md-3 px-0">
        <table class="table table-bordered">
        {% for label in label_list %}
            {% if label.child_label|length != 0%}
                {% for childabel in label.child_label %}
                <tr>
                    <td>{{ childabel.select_forms.point}}</td>
                    <td>{{ childabel.select_forms.select1}}</td>
                </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td>{{ label.select_forms.point}}</td>
                    <td>{{ label.select_forms.select1}}</td>
                </tr>
            {% endif %}
        {% endfor %}
        </table>
        </div>
    </div>
    <div>
        <button type="submit" form="slctform">送信</button>
    </div>
{% endblock content %}